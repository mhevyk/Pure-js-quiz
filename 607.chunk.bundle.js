"use strict";(self.webpackChunkquiz_game_new=self.webpackChunkquiz_game_new||[]).push([[607],{2939:(t,e,n)=>{n.d(e,{D:()=>a,g:()=>d});var s=n(3658),i=n(4477);const o=document.querySelector(".nav__panel"),a=document.querySelectorAll("[data-arrow-back]");function r(){(0,s.lV)("top",{behavior:"smooth"})}function c(){(0,s.lV)("bottom",{behavior:"smooth"})}function l(){i.D.goToPreviousPage()}function u(){window.scrollY>=300?o.classList.remove("hidden"):o.classList.add("hidden")}function d(){const t=document.querySelector("[data-arrow-up]"),e=document.querySelector("[data-arrow-down]");t.addEventListener("click",r),e.addEventListener("click",c),document.addEventListener("scroll",u),a.forEach((t=>{t.addEventListener("click",l)}))}},4607:(t,e,n)=>{n.r(e),n.d(e,{initForms:()=>St});var s=n(1597),i=n(3658);class o{#t;#e;static variants={"quess-word":(t,e)=>({innerHTML:`Відтворіть слово по перекладах <b class="text-accent">${e.join(", ")}</b>:`,answers:[t]}),"guess-translation":(t,e)=>({innerHTML:`Введіть один з перекладів слова <b class="text-accent">${t}</b>:`,answers:e})};constructor(t,e={}){const{word:n,translations:s}=e,a=Object.keys(o.variants),r=a.includes(t)?t:(0,i.Li)(a),c=o.variants[r],{innerHTML:l,answers:u}=c(n,s);this.#t=l,this.#e=u}getText=()=>this.#t;checkAnswer=t=>this.#e.includes(t);getAnswers=()=>this.#e.join(", ")}var a=n(790),r=n(796),c=n(6117),l=n(5745);var u=n(4477);const d=n(2939).D[0];function h(){u.v.canGoBack=!0,d.removeEventListener("click",p),u.D.goToPreviousPage()}function p(){(0,i.vX)(c.nS,(()=>{h()}))}function m(t,{text:e,replaceClasses:n}){t.textContent=e,t.classList.replace(n.from,n.to)}function g(t){m(t,{text:"Завершити спробу",replaceClasses:{from:c.Yu.buttonSecondary,to:c.Yu.buttonPrimary}})}class v{#n;#s;static quizId=1;constructor({mode:t=c.SX.inputAnswer,group:e,questionsCount:n,form:s}){this.#s=e,this.#n=t,this.form=s,this.submitButton=s.querySelector("[type=submit]"),1===n?g(this.submitButton):m(this.submitButton,{text:"Наступне питання",replaceClasses:{from:c.Yu.buttonPrimary,to:c.Yu.buttonSecondary}}),this.questionsCount=n,this.questions=function*(t,e){const n=l.T.getGroupContent(t),s=(0,i.TV)(n);for(let t=0;t<e;t++)yield s[t]}(e,n),this.correctAnswersCount=0,this.answeredQuestionsCount=0,this.options={questionGuessType:r.YM.questionGuessType?"":"guess-translation",isAnswerInstantlyChecked:r.YM.isAnswerInstantlyChecked},u.v.canGoBack=!1,d.addEventListener("click",p)}getName(){return`Опитування ${v.quizId}`}getMode=()=>this.#n;getGroup=()=>this.#s;nextQuestion(){const{value:t,done:e}=this.questions.next();return e?this.showResult():(this.answeredQuestionsCount===this.questionsCount-1&&g(this.submitButton),this.answeredQuestionsCount++,new o(this.options.questionGuessType,t))}showResult(){const t=function(){const t=a.W.dialogItems.cancelButton;return t.classList.add("hidden"),()=>{h(),setTimeout((()=>t.classList.remove("hidden")))}}();a.W.addEventListener("close",t),this.form.onsubmit=null;const e=(0,c.Wl)(this.correctAnswersCount,this.questionsCount);(0,i.vX)(e,(()=>{h(),a.W.removeEventListener("close",t)}))}}function f(t){const{value:e,max:n,step:s=1}=t,i=e+s,o=i/n*100;t.value=i,t.style.setProperty(c.yf,`${o}%`)}class w extends v{constructor(t){var e,n;super(t),this.progressBar=this.form.querySelector(".progress"),e=this.progressBar,n=this.questionsCount,e.value=0,e.style.setProperty(c.yf,"0%"),e.max=n,setTimeout((()=>f(e)),100)}nextQuestion(t={}){const e=super.nextQuestion(),{skipProgressIncrement:n=!1}=t;return n||f(this.progressBar),e}}class T{#i=[];#o;constructor(t){this.#o=t}saveQuestionDetails(t,e){const{getText:n,getAnswers:s,checkAnswer:i}=t,o={name:n(),userAnswer:e||"(не введено)",correctAnswer:s(),isAnswerCorrect:i(e)};this.#i.push(o)}getQuizDetails(){const{getName:t,getMode:e,getGroup:n,options:s}=this.#o;return{name:t(),mode:e(),group:n()||"Всі розділи",questions:this.#i,options:s}}}var L=n(3112);function b(t){t.parentElement.classList.remove("answer-correct","answer-wrong")}const y=(0,i.Ds)(((t,e)=>{!function(t,e){t.parentElement.classList.add("answer-"+(e?"correct":"wrong"))}(t,e),setTimeout((()=>b(t)),1e3)}),200);class E extends w{#a;constructor(t){super(t),this.form.onsubmit=this.nextQuestion.bind(this),this.questionContainer=this.form.querySelector("[data-question]"),this.userAnswerInput=this.form.querySelector("[data-answer]"),this.previousQuestion=super.nextQuestion({skipProgressIncrement:!0}),(0,i.TL)(this.userAnswerInput),setTimeout((()=>this.userAnswerInput.focus())),this.#r(),this.#a=new T(this)}nextQuestion(){const t=this.userAnswerInput.value,e=this.previousQuestion.checkAnswer(t);e&&this.correctAnswersCount++,this.options.isAnswerInstantlyChecked&&(b(this.userAnswerInput),y(this.userAnswerInput,e)),this.#a.saveQuestionDetails(this.previousQuestion,t);const n=super.nextQuestion();this.previousQuestion=n,n&&(this.#r(),(0,i.TL)(this.userAnswerInput),this.userAnswerInput.focus())}showResult(){super.showResult();const t=this.#a.getQuizDetails();(0,L.Tx)(t),v.quizId++,s.D.resultName.value=this.getName()}#r(){this.questionContainer.innerHTML=this.previousQuestion.getText()}}var _=n(8060),S=n(2048);const q=s.D.groups;function x(){const t=(0,i.ZN)(q),e=l.T.getGroupContent(t);!function(t){0===t.length?(0,S.KB)(q,"Вибраний розділ не містить жодного слова!"):(0,S.TK)(q)}(e),(0,_.T)(e.length)}function C(){if(l.T.isEmpty())return(0,S.KB)(q,"Словник порожній!");const t=document.querySelector("#quiz-input-answer-words-count"),e=Number(t.value)||1,n=(0,i.ZN)(q),o={mode:c.SX.inputAnswer,group:n,form:s.vs,questionsCount:e};new E(o),u.D.goToPage("quiz-input-answer")}function A(t){(0,i.mv)(t.target,C)}var k=n(3845);const I=s.ow.group;function O(){const t=I.value.trim(),{EMPTY_INPUT:e,GROUP_ALREADY_EXISTS:n}=S.dc;t?l.T.groups.includes(t)?(0,S.KB)(I,n(t)):(0,S.TK)(I):(0,S.KB)(I,e)}function D(){const t=I.value.trim(),e=(0,c.Pj)(t);(0,i.vX)(e,(()=>function(t){l.T.addGroup(t),l.T.save(),(0,i.Fx)(s.ow),(0,k.K)()}(t)))}function P(t){(0,i.mv)(t.target,D)}function M(){const t=(0,i.ZN)(s.wT.groups),e=(0,c.XD)(t);(0,i.vX)(e,(()=>function(t){l.T.removeGroup(t),l.T.print(),l.T.save(),(0,i.Fx)(s.wT),(0,k.K)()}(t)))}function N(t){(0,i.mv)(t.target,M)}const{EMPTY_INPUT:B,CONTAINS_COMMA:Z,SAME_INPUT_VALUES:F}=S.vG;function R(t){const e=[t.word,...t.querySelectorAll('[name="translation"]')],n=e.map((t=>t.value)).filter(Boolean).reduce(((t,e)=>(t[e]=t[e]+1||1,t)),{});e.forEach((t=>function(t,e){const n=t.value.trim(),s=t.form.word,i="word"===t.name;n?n.includes(",")?(0,S.KB)(t,Z(i)):e>1?(0,S.KB)(t,F(s.value===n)):(0,S.TK)(t):(0,S.KB)(t,B(i))}(t,n[t.value])))}const Q={id:1,count:1},$=document.querySelector("#add-translation-reset"),G=document.querySelector(".additional__translations-container");function H(){const t=s.O_.querySelector('[name="translation"]');Q.id=1,Q.count=1,(0,i.TL)(t),(0,S.zS)(s.O_,"[data-reset]"),(0,i.yy)(G),(0,i.RM)(Q.count)}function W(){const t=s.O_.word,e=s.O_.querySelectorAll('[name="translation"]'),n=s.O_.groups,o=t.value.trim(),a=Array.from(e,(t=>t.value.trim())),r=(0,i.ZN)(n).trim(),u=(0,c.ib)(o,a,r);(0,i.vX)(u,(()=>{l.T.addOne({word:o,translations:a,group:r}),l.T.print(),l.T.save(),(0,i.Fx)(s.O_),(0,k.K)()}))}function X(t){"text"===t.target.type&&R(s.O_)}function z(t){(0,i.mv)(t.target,W)}$.addEventListener("click",(function(){(0,i.vX)(c.ai,H)}));const K=document.querySelector(".additional__translations-container");function j(){const t=`\n        <label class="form__label row" data-delete-id="${Q.id+1}">\n            <span class="control-icon">\n                <i class="input-delete fa-solid fa-trash"></i>\n            </span>\n            <input type="text" class="text-input" name="translation" placeholder="Переклад" maxlength="40" required>\n            <small class="feedbacks">\n                <span class="feedback valid">Переклад введено правильно!</span>\n                <span class="feedback invalid" data-default-feedback="Введіть переклад!">Введіть переклад!</span>\n            </small>\n        </label>\n    `;Q.id++,Q.count++,K.insertAdjacentHTML("beforeend",t),K.lastElementChild.focus(),(0,i.RM)(Q.count)}const U=document.querySelector(".translations__container");function Y(t){const e=t.target;var n;e.classList.contains("input-delete")&&(n=e.closest("[data-delete-id]"),(0,i.vX)(c.BT,(()=>{var t;t=n.dataset.deleteId,s.O_.querySelector(`[data-delete-id='${t}']`).remove(),Q.count--,(0,i.RM)(Q.count),R(s.O_)})))}var V=n(7555);const J=function(){s.O_.addEventListener("input",(0,i.Ds)(X,100)),s.O_.addEventListener("submit",z),s.O_.addEventListener("reset",H),document.querySelector("#add-translation").addEventListener("click",j),U.addEventListener("click",Y),(0,V.H)()};function tt(){l.T.isEmpty()||(l.T.clear(),(0,k.K)())}function et(){(0,i.vX)(c.ft,tt)}function nt(t){(0,i.mv)(t.target,et)}const st=async()=>{const t=await(0,i.xu)("import-templates/text.txt"),{text:e,separator:n}=(t=>{const e=(0,i.ZN)(s.Z$.separators);return{separator:e,text:t.replaceAll("&",e)}})(t),o=`*** Це шаблон коректного словника з вибраним роздільником ${n}\n*** Якщо хочете завантажити цей шаблон у словник, то видаліть текст із зірочками на початку\n*** [слово] ${n} [переклад1], [переклад2], ...\n${e}`;(0,i.WH)("template",o)};class it{constructor(t,e){this.input=t,this.label=e,this.setInvalid()}setValid(t="Все добре!"){(0,S.TK)(this.input,t,this.label.nextElementSibling),this.label.classList.replace("invalid","valid")}setInvalid(t="Завантажте текстовий файл!"){(0,S.KB)(this.input,t,this.label.nextElementSibling),this.label.classList.replace("valid","invalid")}reset(t){(0,i.TL)(this.input),this.setInvalid(t)}resetConfirm(t){(0,i.vX)(c.Wx,t)}}class ot{constructor(t){this.container=t,this.title=this.container.querySelector(".title"),this.content=this.container.querySelector(".content"),this.content.style.height=0}hide(){this.container.classList.add("hidden"),this.slideUp()}show(){this.container.classList.remove("hidden")}isOpen(){return this.container.classList.contains("open")}slideToggle(){this.isOpen()?this.slideUp():this.slideDown()}slideDown(){if(!this.content.children.length)return;this.container.classList.add("open");const t=`${this.#c()}px`;this.content.style.height=t,this.content.animate([{height:0},{height:t}],{duration:this.#l()})}slideUp(){this.container.classList.remove("open"),this.content.style.height=0,this.content.animate([{height:`${this.#c()}px`},{height:0}],{duration:this.#l()})}#c(){const t=this.content.children,e=t.length;return e?t[0].offsetHeight*e:0}#l(){return 300+this.#c()/(this.content.children.length+1)}}var at=n(9388);class rt extends at.Z{constructor(t){super(t,"loader")}}const ct=new rt(document.querySelector(".loader"));function lt(t,e=":"){return new Promise(((n,s)=>{const o=t.map(((t,n)=>{const o=n+1;t.includes(e)||s(c.Zj.NO_SEPARATOR_IN_ROW(e,o));const[a,r]=t.split(e),l=a.trim().replaceAll(",","");l||s(c.Zj.NO_WORD_IN_ROW(o));const u=r.trim();u||s(c.Zj.NO_translationS_IN_ROW(o));const d=u.split(",").map((t=>t.trim())).filter(Boolean);return d.includes(l)&&s(c.Zj.WORD_AND_translation_ARE_SAME(o)),(0,i.el)(d).length!==d.length&&s(c.Zj.translationS_ARE_SAME(o)),{word:l,translations:d}}));n(o)}))}const ut=s.Z$.fileInput,dt=s.Z$.querySelector(".file-input-label"),ht=new class extends it{constructor(t,e){super(t,e),this.#u()}incrementFilesCount(){const t=this.uploadedFilesCountContainer,e=Number(t.textContent);t.textContent=e+1}appendValidFile({name:t},e){this.uploadedFilesContainer.innerHTML+=(0,c.v4)(t,e),this.incrementFilesCount()}appendInvalidFile({name:t},e){this.uploadedFilesContainer.innerHTML+=(0,c.zR)(t,e),this.incrementFilesCount()}reset(t){this.uploadedFilesContainer.innerHTML="",this.uploadedFilesCountContainer.textContent=0,this.toggler.hide(),super.reset(t)}#u(){const t=this.label.nextElementSibling,e=document.createElement("div");e.classList.add("uploaded-files","toggler","hidden");const n=document.createElement("button");n.type="button",n.classList.add("title","uploaded-files__title");const s=document.createElement("span");s.classList.add("uploaded-files__count"),s.textContent=0,n.append(s),s.insertAdjacentHTML("beforebegin","Завантажені файли ("),s.insertAdjacentHTML("afterend",') <i class="caret fas fa-angle-down"></i>');const i=document.createElement("div");i.classList.add("content","uploaded-files__info"),e.append(n),e.append(i),t.after(e),this.uploadedFilesContainer=i,this.uploadedFilesCountContainer=s,this.toggler=new ot(e),this.toggler.title.addEventListener("click",(()=>this.toggler.slideToggle()))}}(ut,dt),pt=[];function mt(t){pt.length=0,ht.reset(t)}async function gt(){const t=(0,i.ZN)(s.Z$.groups),e=(0,c.sb)(t,pt.length);(0,i.vX)(e,(()=>{ct.open(),setTimeout((()=>{const e=pt.map((e=>({...e,group:t})));l.T.addManyAsync(e).then((()=>l.T.print())).finally((()=>{l.T.save(),ct.close()})),(0,i.Fx)(s.Z$),mt(),(0,k.K)()}),500)}))}function vt(t){(0,i.mv)(t.target,gt)}function ft(t){const e=[...t.target.files];if(!e.length)return mt(S.NX.LOAD_CANCELED);(async function(t){const e=(0,i.ZN)(s.Z$.separators);for(const n of t)try{const{extension:t}=(0,i.x2)(n.name);if("txt"!==t)throw c.Zj.WRONG_FILE_EXTENSION;const s=await(0,i.vZ)(n);if(!s.trim())throw c.Zj.EMPTY_FILE;if(s.includes("***"))throw c.Zj.TEMPLATE_LOAD;const o=s.replace(/\r/g,"").split("\n").filter((t=>t.trim())),a=await lt(o,e);pt.push(...a),ht.appendValidFile(n,a.length)}catch(t){ht.appendInvalidFile(n,t)}})(e).then((()=>{ht.toggler.hide(),pt.length>0?ht.setValid(S.NX.SUCCESSFULL_LOAD):ht.setInvalid(S.NX.TEMPLATE_MISMATCH_ERROR)})).finally((()=>ht.toggler.show()))}const wt=["dragenter","dragover"],Tt=["dragleave","drop"];function Lt(){this.classList.add("dragged-over")}function bt(){this.classList.remove("dragged-over")}function yt(t,e){document.querySelectorAll(".file-input-label").forEach((n=>{n.addEventListener(t,(0,i.Ds)(e,100))}))}const Et=function(){wt.forEach((t=>yt(t,Lt))),Tt.forEach((t=>yt(t,bt))),s.Z$.querySelector("#import-txt-file-reset").addEventListener("click",(()=>ht.resetConfirm(mt))),ut.addEventListener("change",ft),s.Z$.addEventListener("submit",vt),document.querySelector("#download-txt-template").addEventListener("click",st)},_t=function(){J(),s.$w.addEventListener("submit",nt),Et(),s.ow.addEventListener("input",(0,i.Ds)(O,100)),s.ow.addEventListener("submit",P),s.wT.addEventListener("submit",N)};function St(){(0,s.Mo)(),q.addEventListener("change",x),s.D.addEventListener("submit",A),_t()}},4477:(t,e,n)=>{n.d(e,{v:()=>r,D:()=>c});class s{#d=[];constructor(t){this.#d.push(t)}isEmpty(){return 0===this.#d.length}push(t){this.#d.push(t)}pop(){return this.#d.pop()}top(){return this.#d.at(-1)}}var i=n(790),o=n(3658);const a=n(2939).D[0],r={canGoBack:!0},c=new class{#h;#p;constructor(t){this.#h=new s(t),this.#p=["quiz-input-answer"],document.addEventListener("click",(t=>{const e=t.target.closest("[data-page-button]");e&&(i.W.isOpen()&&i.W.close(),this.goToPage(e.dataset.pageButton))}))}setPageTitle=t=>{document.querySelector("[data-main-title]").textContent=t};setPageSubtitle=t=>{document.querySelector("[data-main-subtitle]").textContent=t||"найкраща програма для якісного вивчення слів"};showBackButton=t=>{"main"!==t?a.classList.remove("hidden"):a.classList.add("hidden")};showOnlyPage=t=>{document.querySelectorAll(".page").forEach((e=>{e.dataset.page===t?(e.classList.add("open"),this.setPageTitle(e.dataset.title),this.setPageSubtitle(e.dataset.subtitle)):e.classList.remove("open")}))};goToPage=t=>{(0,o.lV)("top"),this.showBackButton(t),this.showOnlyPage(t),this.#h.top()!==t&&this.#h.push(t)};goToPreviousPage=()=>{if(!r.canGoBack)return;const t=this.#h;t.pop(),this.#p.includes(t.top())&&t.pop(),t.isEmpty()||this.goToPage(t.top())}}("main")},8740:(t,e,n)=>{n.d(e,{x:()=>c});var s=n(9085),i=n(7028),o=n(3148),a=n(3658);o.kL.defaults.color=(0,a.ot)("secondary-color");const r=[(0,a.ot)("highlight-success-bg")||"green",(0,a.ot)("highlight-fail-bg")||"red"];function c(t,e={}){const n=document.createElement("canvas"),{isDataLabels:o=!1}=e,c=o?((t,e)=>({type:"doughnut",plugins:[i.Z],data:{datasets:[{data:t,borderWidth:0,backgroundColor:r}],labels:["правильні відповіді","неправильні відповіді"]},options:{plugins:{tooltip:{enabled:!1},datalabels:{labels:{value:{color:(0,a.ot)("white-color")}}},legend:{display:!0,align:"center",position:"bottom",labels:{padding:20}}},responsive:!0,offset:5}}))(t):(t=>({type:"doughnut",data:{datasets:[{data:t,borderWidth:0,backgroundColor:r}]},options:{plugins:{tooltip:{enabled:!1}},layout:{padding:{top:-10,bottom:-10}},offset:2}}))(t);return new s.ZP(n,c)}},3112:(t,e,n)=>{n.d(e,{EU:()=>a,Tx:()=>r});var s=n(8740),i=n(6117);let o=0;function a(t){const e=t.length,n=t.reduce(((t,e)=>t+e.isAnswerCorrect),0);return[n,e-n]}function r(t){i.J1.push(t),function(t){const e=document.querySelector("[data-quiz-result-list]");e.querySelector(".placeholder")?.remove();const n=function(t,e){const{name:n,questions:i}=t,{canvas:o}=(0,s.x)(a(i)),r=document.createElement("div");r.classList.add("result__item");const c=document.createElement("div");c.classList.add("item__chart-container"),c.appendChild(o);const l=`\n        <div class="item__short-description">\n            <span class="item__name">${n}</span>\n            <small\n                class="link text-accent"\n                data-page-button="quiz-details"\n                data-details-id="${e}"\n            >\n                Детальніше...\n            </small>\n        </div>\n    `;return r.insertAdjacentHTML("afterbegin",l),r.appendChild(c),r}(t,o);o++,e.append(n)}(t)}}}]);